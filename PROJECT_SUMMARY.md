# Git Message MCP v2.0 - é¡¹ç›®æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**Git Message MCP** æ˜¯ä¸€ä¸ªä½¿ç”¨ **POE API** å’Œ AI æ¨¡å‹é©±åŠ¨çš„ MCPï¼ˆModel Context Protocolï¼‰å·¥å…·ï¼Œä¸“é—¨ä¸º Git ä»“åº“è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„ commit messagesã€‚

**æ ¸å¿ƒåˆ›æ–°**: ä¸å†å†™å†—é•¿çš„ commit messageï¼Œåªéœ€æŒ‡å®šä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒAI ä¼šè‡ªåŠ¨åˆ†æä½ çš„æ›´æ”¹å¹¶ç”Ÿæˆä¸“ä¸šçš„ messageï¼Œç›´æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½ Git åˆ†æ
- è‡ªåŠ¨æ‰«æ `git diff HEAD` è·å–æ‰€æœ‰æœªæäº¤çš„æ›´æ”¹
- æ”¶é›†ç»Ÿè®¡æ•°æ®ï¼ˆæ–‡ä»¶æ•°ã€æ’å…¥/åˆ é™¤è¡Œæ•°ï¼‰
- æå–æœ€è¿‘çš„ commit ä¿¡æ¯ä½œä¸ºå‚è€ƒ
- é™åˆ¶ diff å¤§å°é¿å… API è´Ÿè½½è¿‡å¤§

### 2. AI é©±åŠ¨ç”Ÿæˆ
- é›†æˆ **POE API**ï¼Œæ”¯æŒå¤šä¸ªå¼ºå¤§çš„ AI æ¨¡å‹
- åŠ¨æ€æ¨¡å‹åˆ—è¡¨è·å–ï¼Œæ— éœ€ç¡¬ç¼–ç 
- æ”¯æŒçš„æ¨¡å‹åŒ…æ‹¬ï¼š
  - Claude-3-5-Sonnetï¼ˆæ¨èï¼‰
  - GPT-4o
  - Gemini-2-Flash
  - Claude-3-Opus
  - ä»¥åŠ POE ä¸­çš„å…¶ä»–æ¨¡å‹

### 3. çµæ´»çš„è¾“å‡ºæ ¼å¼
- **Detailed** - å®Œæ•´çš„ commit message æ ¼å¼
- **Concise** - ç®€æ´çš„ä¸€è¡Œæ€»ç»“
- **Changelog** - Markdown æ ¼å¼çš„æ›´æ–°æ—¥å¿—

### 4. è‡ªåŠ¨å‰ªè´´æ¿å¤åˆ¶
- ç”Ÿæˆçš„ message è‡ªåŠ¨å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿
- ä½¿ç”¨ macOS çš„ `pbcopy` å®ç°
- ç›´æ¥ç²˜è´´åˆ° git commit å‘½ä»¤

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
git-message-mcp/
â”œâ”€â”€ index.ts                    # ä¸»ç¨‹åºï¼ˆ2ä¸ªå·¥å…·å®ç°ï¼‰
â”œâ”€â”€ package.json               # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ README.md                 # å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md             # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ USAGE_EXAMPLES.md         # è¯¦ç»†ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ PROJECT_SUMMARY.md        # æœ¬æ–‡ä»¶
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: TypeScript
- **è¿è¡Œæ—¶**: Node.js / Bun
- **MCP æ¡†æ¶**: FastMCP v2.2.0
- **API**: POE API (OpenAI å…¼å®¹)
- **éªŒè¯åº“**: Zod v3.25.46
- **HTTP å®¢æˆ·ç«¯**: Axios v1.6.0

---

## ğŸ“¦ ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·

### å·¥å…· 1: `listAvailableModels`

**åŠŸèƒ½**: è·å– POE ä¸­æ‰€æœ‰å¯ç”¨çš„ AI æ¨¡å‹

**å…¥å‚**: æ— 

**è¿”å›**:
```typescript
{
  success: boolean,
  models: string[],
  message: string
}
```

**ç”¨é€”**: æŸ¥çœ‹æœ‰å“ªäº›æ¨¡å‹å¯ç”¨ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ¨¡å‹

---

### å·¥å…· 2: `generateGitMessage`

**åŠŸèƒ½**: åˆ†æ Git ä»“åº“ï¼Œä½¿ç”¨ AI ç”Ÿæˆ commit message

**å…¥å‚**:
```typescript
{
  folderPath: string,              // âœ… å¿…éœ€
  model?: string,                  // å¯é€‰ï¼Œé»˜è®¤ "Claude-3-5-Sonnet"
  messageType?: "detailed" | "concise" | "changelog",  // å¯é€‰ï¼Œé»˜è®¤ "detailed"
  includeStats?: boolean           // å¯é€‰ï¼Œé»˜è®¤ true
}
```

**è¿”å›**:
```typescript
{
  success: boolean,
  message: string,
  details: {
    folderPath: string,
    folderName: string,
    filesChanged: number,
    insertions: number,
    deletions: number,
    messageType: string,
    model: string,
    copiedToClipboard: boolean,
    generatedMessage: string
  }
}
```

**å·¥ä½œæµç¨‹**:
1. éªŒè¯æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ä¸”æ˜¯ Git ä»“åº“
2. æ”¶é›† git diffã€ç»Ÿè®¡å’Œä¸Šä¸‹æ–‡ä¿¡æ¯
3. æ„å»º AI æç¤ºè¯
4. è°ƒç”¨ POE API ç”Ÿæˆ message
5. å¤åˆ¶åˆ°å‰ªè´´æ¿
6. è¿”å›ç»“æœ

---

## ğŸ” API å¯†é’¥ç®¡ç†

**API Key**: `W4HQGO1TRCOcZzRv-8vB84REwnexAshVRVVhyZ9dpII`

- âœ… å·²ç¡¬ç¼–ç åœ¨ `index.ts` ä¸­
- âœ… æ— éœ€æ‰‹åŠ¨é…ç½®
- âœ… ç”Ÿäº§ç¯å¢ƒå»ºè®®è¿ç§»åˆ°ç¯å¢ƒå˜é‡

---

## ğŸ“Š æ•°æ®æµç¤ºæ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç”¨æˆ·æŒ‡å®š folderPath + é€‰é¡¹å‚æ•°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  éªŒè¯æ–‡ä»¶å¤¹å’Œ Git ä»“åº“  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  æ”¶é›† Git ä¿¡æ¯                    â”‚
        â”‚ - git diff --stat HEAD           â”‚
        â”‚ - git diff HEAD                  â”‚
        â”‚ - git log --oneline              â”‚
        â”‚ - changed files list             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  æ„å»º AI æç¤ºè¯                      â”‚
       â”‚  (åŒ…å«æ‰€æœ‰ä¸Šä¸‹æ–‡ä¿¡æ¯)                â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  è°ƒç”¨ POE API                         â”‚
      â”‚  ä½¿ç”¨æŒ‡å®šæ¨¡å‹ç”Ÿæˆ message             â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  å¤„ç†è¿”å›ç»“æœ                          â”‚
     â”‚  - è¿½åŠ ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰                â”‚
     â”‚  - éªŒè¯å†…å®¹æœ‰æ•ˆæ€§                      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  å¤åˆ¶åˆ°å‰ªè´´æ¿                           â”‚
   â”‚  ä½¿ç”¨ pbcopy å‘½ä»¤                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  è¿”å›æˆåŠŸç»“æœåŠè¯¦æƒ…  â”‚
         â”‚  (åŒ…å«ç”Ÿæˆçš„message) â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ ä¸»è¦ç‰¹æ€§å¯¹æ¯”

### v1.0.0ï¼ˆåŸå§‹ç‰ˆæœ¬ï¼‰vs v2.0.0ï¼ˆå½“å‰ç‰ˆæœ¬ï¼‰

| ç‰¹æ€§ | v1.0.0 | v2.0.0 |
|------|--------|--------|
| åˆ†æèƒ½åŠ› | è§„åˆ™å‹ | AI é©±åŠ¨ |
| æ¨¡å‹æ”¯æŒ | æ—  | å¤šä¸ª POE æ¨¡å‹ |
| ç”Ÿæˆè´¨é‡ | åŸºç¡€ | é«˜çº§ |
| è‡ªå®šä¹‰åº¦ | ä½ | é«˜ |
| API é›†æˆ | æ—  | POE API |
| æ ¼å¼æ”¯æŒ | 3 ç§ | 3 ç§ï¼ˆæ”¹è¿›ï¼‰ |
| ä¸Šä¸‹æ–‡ç†è§£ | æµ…å±‚ | æ·±å±‚ |

---

## ğŸš€ æ€§èƒ½ç‰¹æ€§

- **å·®å¼‚å¤§å°é™åˆ¶**: 10,000 å­—ç¬¦ï¼ˆé˜²æ­¢ API è¶…è½½ï¼‰
- **æ¨¡å‹å“åº”æ—¶é—´**:
  - Gemini-2-Flash: ~1-2 ç§’
  - GPT-4o: ~2-3 ç§’
  - Claude-3-5-Sonnet: ~2-4 ç§’
  - Claude-3-Opus: ~3-5 ç§’

- **æ”¯æŒçš„ä»“åº“å¤§å°**: æ— é™åˆ¶ï¼ˆåªåˆ†æå·®å¼‚ï¼‰
- **å¹¶å‘è°ƒç”¨**: æ”¯æŒï¼ˆPOE API é™é€Ÿï¼‰

---

## ğŸ”„ ä½¿ç”¨æµç¨‹ç¤ºä¾‹

```bash
# 1. å¯åŠ¨æœåŠ¡
npm start

# 2. åœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼Œå‡†å¤‡ Git ä»“åº“
cd /Users/oasmet/Documents/MyProject
git add .  # æš‚å­˜æ›´æ”¹ï¼Œä¸è¦ commit

# 3. é€šè¿‡ MCP å®¢æˆ·ç«¯è°ƒç”¨å·¥å…·
# æ–¹å¼ Aï¼šä½¿ç”¨é»˜è®¤å‚æ•°ï¼ˆæœ€ç®€å•ï¼‰
{
  "tool": "generateGitMessage",
  "parameters": {
    "folderPath": "/Users/oasmet/Documents/MyProject"
  }
}

# æ–¹å¼ Bï¼šæŒ‡å®šæ¨¡å‹å’Œæ ¼å¼
{
  "tool": "generateGitMessage",
  "parameters": {
    "folderPath": "/Users/oasmet/Documents/MyProject",
    "model": "GPT-4o",
    "messageType": "concise"
  }
}

# 4. Message å·²å¤åˆ¶åˆ°å‰ªè´´æ¿
git commit  # Cmd+V ç²˜è´´

# 5. å®Œæˆï¼
```

---

## ğŸ“ å­¦ä¹ èµ„æº

- **å¿«é€Ÿå¼€å§‹**: è§ `QUICKSTART.md`
- **è¯¦ç»†ç¤ºä¾‹**: è§ `USAGE_EXAMPLES.md`
- **API æ–‡æ¡£**: è§ `README.md`

---

## ğŸ” å®‰å…¨è€ƒé‡

- âœ… API Key å·²å†…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒåº”æ”¹ä¸ºç¯å¢ƒå˜é‡ï¼‰
- âœ… Diff å†…å®¹å¤§å°é™åˆ¶ï¼ˆ10KBï¼‰
- âœ… ä¸å‚¨å­˜ä»»ä½•æ•æ„Ÿä¿¡æ¯
- âœ… ä»…åœ¨æœ¬åœ°è¿›è¡Œ git æ“ä½œ
- âœ… å‰ªè´´æ¿å¤åˆ¶ä¸è¿‡ç½‘ç»œ

---

## ğŸ“‹ å…¥å‚å®Œæ•´å‚è€ƒ

### `generateGitMessage` å…¥å‚

```typescript
{
  // å¿…éœ€å‚æ•°
  "folderPath": "/path/to/your/git/repo",
  
  // å¯é€‰å‚æ•°ï¼ˆå¸¦é»˜è®¤å€¼ï¼‰
  "model": "Claude-3-5-Sonnet",  // é»˜è®¤å€¼
  "messageType": "detailed",      // é»˜è®¤å€¼: detailed | concise | changelog
  "includeStats": true            // é»˜è®¤å€¼
}
```

**å‚æ•°æœ‰æ•ˆå€¼**:
- `model`: ä»»ä½• POE ä¸­çš„æ¨¡å‹åç§°ï¼ˆå¯é€šè¿‡ `listAvailableModels` æŸ¥è¯¢ï¼‰
- `messageType`: `"detailed"` | `"concise"` | `"changelog"`
- `includeStats`: `true` | `false`

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

âœ… **å®Œç¾é€‚ç”¨äº**:
- æ—¥å¸¸ Git æäº¤
- åŠŸèƒ½å¼€å‘ commit
- Bug ä¿®å¤æè¿°
- ä»£ç é‡æ„è¯´æ˜
- ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
- å›¢é˜Ÿåä½œæ—¶çš„è§„èŒƒ commit

âŒ **ä¸å¤ªé€‚ç”¨äº**:
- å·²ç» commit çš„å†å²è®°å½•ä¿®æ”¹
- è¶…å¤§å‹ä»“åº“çš„å¤šæ¬¡æäº¤ï¼ˆåº”é€ä¸ªåˆ†æï¼‰
- å®Œå…¨æ²¡æœ‰ä»£ç æ”¹åŠ¨çš„åœºæ™¯

---

## ğŸ”® æœªæ¥å¢å¼ºæƒ³æ³•

- [ ] æ”¯æŒè‡ªå®šä¹‰ prompt æ¨¡æ¿
- [ ] é›†æˆ GitHub/GitLab API
- [ ] è‡ªåŠ¨ç”Ÿæˆ PR æè¿°
- [ ] ä¸­æ–‡ message æœ€ä¼˜åŒ–
- [ ] ç¼“å­˜æœ€å¸¸ç”¨æ¨¡å‹åˆ—è¡¨
- [ ] æ”¯æŒ Windowsï¼ˆä½¿ç”¨ clip å‘½ä»¤ï¼‰
- [ ] æ”¯æŒ Linuxï¼ˆä½¿ç”¨ xclipï¼‰
- [ ] Web UI ç•Œé¢
- [ ] å‘½ä»¤è¡Œå·¥å…·ç‰ˆæœ¬

---

## ğŸ“ è·å–å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿæ£€æŸ¥ä»¥ä¸‹ä½ç½®ï¼š

1. **QUICKSTART.md** - å¿«é€Ÿå¼€å§‹å’Œå¸¸è§é—®é¢˜
2. **USAGE_EXAMPLES.md** - è¯¦ç»†ç¤ºä¾‹å’Œæ•…éšœæ’é™¤
3. **README.md** - å®Œæ•´æ–‡æ¡£å’Œ API å‚è€ƒ
4. **index.ts** - æºä»£ç æ³¨é‡Š

---

## ğŸ“„ è®¸å¯è¯

ISC

---

## ğŸ‰ æ€»ç»“

**Git Message MCP v2.0** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå°† AI çš„åŠ›é‡å¸¦åˆ°äº† Git commit message çš„ç”Ÿæˆä¸­ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
- ğŸ¤– AI é©±åŠ¨ï¼ˆä¸æ˜¯ç®€å•çš„è§„åˆ™ï¼‰
- ğŸ“‹ ä¸€ä¸ªå¿…éœ€å‚æ•°ï¼ˆfolderPathï¼‰
- ğŸ“š ä¸‰ç§çµæ´»æ ¼å¼
- âš¡ è‡ªåŠ¨å‰ªè´´æ¿
- ğŸ¯ ä¸“ä¸šè´¨é‡

**ç°åœ¨å°±å¼€å§‹**ï¼š
```bash
cd git-message-mcp
npm install
npm start
```

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

